webpackJsonp([5],{"0zA5":function(e,t){},"2rNr":function(e,t,n){e.exports=n.p+"static/img/HP.a143a94.png"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(e){n("gsu9")},null,null).exports,a=n("/ocq"),i={data:function(){return{rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0,loginForm:{username:"wuyue",password:"wuyue88@"},loading:!1}},methods:{submitClick:function(){var e=this;this.loading=!0,this.postRequest("/login",{username:this.loginForm.username,password:this.loginForm.password}).then(function(t){if(e.loading=!1,t&&200==t.status){var n=t.data;e.$store.commit("login",n.obj);var r=e.$route.query.redirect;e.$router.replace({path:"/"==r||void 0==r?"/home":r})}})}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-container",attrs:{rules:e.rules,"label-position":"left",model:e.loginForm,"label-width":"0px"}},[n("h3",{staticClass:"login_title"},[e._v("系统登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),n("el-checkbox",{staticClass:"login_remember",attrs:{"label-position":"left"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submitClick}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var u=n("VU/8")(i,l,!1,function(e){n("wha0")},null,null).exports,c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-container",{staticClass:"home-container"},[r("el-header",{staticClass:"home-header"},[r("span",{staticClass:"home_title"},[e._v("轻量级城镇道路养护信息管理系统")]),e._v(" "),r("div",{staticStyle:{display:"flex","align-items":"center","margin-right":"7px"}},[r("el-badge",{staticStyle:{"margin-right":"30px"},attrs:{"is-dot":this.$store.state.nfDot}},[r("i",{staticClass:"fa fa-bell-o",staticStyle:{cursor:"pointer"}})]),e._v(" "),r("el-dropdown",{on:{command:e.handleCommand}},[r("span",{staticClass:"el-dropdown-link home_userinfo",staticStyle:{display:"flex","align-items":"center"}},[r("span",[e._v(e._s(e.user.name))]),e._v(" "),r("i",[r("img",{staticStyle:{width:"40px",height:"40px","margin-right":"5px","margin-left":"5px","border-radius":"40px"},attrs:{src:n("2rNr")}})])]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[e._v("个人中心")]),e._v(" "),r("el-dropdown-item",[e._v("设置")]),e._v(" "),r("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("注销")])],1)],1)],1)]),e._v(" "),r("el-container",[r("el-aside",{staticClass:"home-aside",attrs:{width:"180px"}},[r("div",{staticStyle:{display:"flex","justify-content":"flex-start",width:"180px","text-align":"left"}},[r("el-menu",{staticStyle:{background:"#ececec",width:"180px"},attrs:{"unique-opened":"",router:""}},[e._l(this.routes,function(t,n){return t.hidden?e._e():[r("el-submenu",{key:n,attrs:{index:n+""}},[r("template",{slot:"title"},[r("i",{class:t.iconCls}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return r("el-menu-item",{key:t.path,staticStyle:{"padding-left":"30px","padding-right":"0px","margin-left":"0px",width:"170px","text-align":"left"},attrs:{width:"180px",index:t.path}},[e._v(e._s(t.name))])})],2)]})],2)],1)]),e._v(" "),r("el-main",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),r("el-breadcrumb-item",{domProps:{textContent:e._s(this.$router.currentRoute.name)}})],1),e._v(" "),r("keep-alive",[this.$route.meta.keepAlive?r("router-view"):e._e()],1),e._v(" "),this.$route.meta.keepAlive?e._e():r("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var d=n("VU/8")({computed:{user:function(){return this.$store.state.user},routes:function(){return this.$store.state.routes}},methods:{handleCommand:function(e){var t=this;"logout"==e&&this.$confirm("注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.getRequest("/logout"),t.$store.commit("logout"),t.$router.replace({path:"/"})}).catch(function(){t.$message({type:"info",message:"取消"})})}}},c,!1,function(e){n("0zA5")},null,null).exports;r.default.use(a.a);var m=new a.a({routes:[{path:"/",name:"Login",component:u,hidden:!0},{path:"/home",name:"主页",component:d,hidden:!0,meta:{requireAuth:!0}}]}),p=n("zL8q"),h=n.n(p),g=(n("tvR6"),n("mtWM")),f=n.n(g);f.a.interceptors.request.use(function(e){return e},function(e){p.Message.error({message:"请求超时!"})}),f.a.interceptors.response.use(function(e){if(!e.status||200!=e.status||500!=e.data.status)return e.data.msg&&p.Message.success({message:e.data.msg}),e;p.Message.error({message:e.data.msg})},function(e){504==e.response.status||404==e.response.status?p.Message.error({message:"服务器被吃了⊙﹏⊙∥"}):403==e.response.status?p.Message.error({message:"权限不足,请联系管理员!"}):401==e.response.status?p.Message.error({message:e.response.data.msg}):e.response.data.msg?p.Message.error({message:e.response.data.msg}):p.Message.error({message:"未知错误!"})});var v=function(e){return f()({method:"get",url:""+e})},w=function e(t){var r=[];return t.forEach(function(t){var s=t.path,o=t.component,a=t.name,i=t.meta,l=t.iconCls,u=t.children;u&&u instanceof Array&&(u=e(u));var c={path:s,component:function(e){o.startsWith("RoadCheck")?n.e(0).then(function(){var t=[n("/rUY")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(n.oe):o.startsWith("dp")?n.e(1).then(function(){var t=[n("oUnR")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(n.oe):o.startsWith("ri")?n.e(3).then(function(){var t=[n("39Kf")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(n.oe):o.startsWith("st")&&n.e(2).then(function(){var t=[n("MlEf")("./"+o+".vue")];e.apply(null,t)}.bind(this)).catch(n.oe)},name:a,iconCls:l,meta:i,children:u};r.push(c)}),r},_=n("mvHQ"),x=n.n(_),y=n("ifoU"),b=n.n(y),C=n("NYxO");r.default.use(C.a);var S=new C.a.Store({state:{user:{name:null==window.localStorage.getItem("user")?"未登录":JSON.parse(window.localStorage.getItem("user")).name,username:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username,roles:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).roles},routes:[],msgList:[],isDotMap:new b.a,currentFriend:{},stomp:null,nfDot:!1},mutations:{initMenu:function(e,t){e.routes=t},login:function(e,t){e.user=t,window.localStorage.setItem("user",x()(t))},logout:function(e){window.localStorage.removeItem("user"),e.routes=[]}},actions:{}});r.default.use(h.a),r.default.config.productionTip=!1,r.default.prototype.getRequest=v,r.default.prototype.postRequest=function(e,t){return f()({method:"post",url:""+e,data:t,transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},r.default.prototype.deleteRequest=function(e){return f()({method:"delete",url:""+e})},r.default.prototype.putRequest=function(e,t){return f()({method:"put",url:""+e,data:t,transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},m.beforeEach(function(e,t,n){var r,s;"Login"!=e.name?"未登录"==S.state.user.name?e.meta.requireAuth||null==e.name?n({path:"/",query:{redirect:e.path}}):n():(r=m,(s=S).state.routes.length>0||v("/config/sysmenu").then(function(e){if(e&&200==e.status){var t=w(e.data);r.addRoutes(t),s.commit("initMenu",t)}}),n()):n()}),new r.default({el:"#app",router:m,store:S,components:{App:o},template:"<App/>"})},gsu9:function(e,t){},tvR6:function(e,t){},wha0:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.98441654861306974fc3.js.map